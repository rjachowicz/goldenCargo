<div class="border p-4">
    <h4 class="h3 mb-3"><i class="fas fa-user-plus"></i> Add New User</h4>
    <form class="row g-3 needs-validation" method="post" novalidate th:action="@{/users/create}" th:object="${user}">
        <div class="col-md-4">
            <label class="form-label" for="username">Username</label>
            <input class="form-control" id="username" maxlength="50" required th:field="*{username}" type="text">
            <div class="invalid-feedback">
                Please provide a username (max 50 characters).
            </div>
        </div>
        <div class="col-md-4">
            <label class="form-label" for="password">Password</label>
            <input class="form-control" id="password" required th:field="*{password}" type="password">
            <div class="invalid-feedback">
                Password is required.
            </div>
        </div>
        <div class="col-md-4">
            <label class="form-label" for="email">Email</label>
            <input class="form-control" id="email" maxlength="100" required th:field="*{email}" type="email">
            <div class="invalid-feedback">
                Please provide a valid email address (max 100 characters).
            </div>
        </div>
        <div class="col-md-4">
            <label class="form-label" for="firstName">First Name</label>
            <input class="form-control" id="firstName" maxlength="50" required th:field="*{firstName}" type="text">
            <div class="invalid-feedback">
                Please provide a first name (max 50 characters).
            </div>
        </div>
        <div class="col-md-4">
            <label class="form-label" for="lastName">Last Name</label>
            <input class="form-control" id="lastName" maxlength="50" required th:field="*{lastName}" type="text">
            <div class="invalid-feedback">
                Please provide a last name (max 50 characters).
            </div>
        </div>
        <div class="col-md-4">
            <label class="form-label" for="phoneNumber">Phone Number</label>
            <input class="form-control" id="phoneNumber" maxlength="20" pattern="^\+?[1-9]\d{1,14}$" required
                   th:field="*{phoneNumber}" type="text">
            <div class="invalid-feedback">
                Please provide a valid phone number in E.164 format (e.g., +123456789).
            </div>
        </div>
        <div class="col-md-12">
            <label class="form-label" for="address">Address</label>
            <textarea class="form-control" id="address" pattern="^[#.0-9a-zA-Z\\s,-]+$" required
                      th:field="*{address}"></textarea>
            <div class="invalid-feedback">
                Please provide a valid address (letters, numbers, spaces, and punctuation only).
            </div>
        </div>
        <div class="col-md-4">
            <label class="form-label" for="roles">Roles</label>
            <select class="form-control" id="roles" name="roleId" required>
                <option th:each="role : ${roles}" th:text="${#strings.substringAfter(role.name, 'ROLE_')}"
                        th:value="${role.roleId}">
                </option>
            </select>
            <div class="invalid-feedback">
                Please select a role.
            </div>
        </div>
        <div class="col-md-4">
            <label class="form-label" for="status">Status</label>
            <select class="form-select" id="status" required th:field="*{status}">
                <option disabled selected value="">Select status</option>
                <option value="NEW">New</option>
                <option value="ACTIVE">Active</option>
                <option value="INACTIVE">Inactive</option>
                <option value="BANED">Banned</option>
            </select>
            <div class="invalid-feedback">
                Please select a status.
            </div>
        </div>
        <div class="col-md-12 d-flex">
            <button class="btn btn-success me-2" type="submit"><i class="fas fa-check"></i> Save</button>
            <button class="btn btn-secondary" data-bs-target="#addUserForm" data-bs-toggle="collapse" type="button">
                <i class="fas fa-times"></i> Cancel
            </button>
        </div>
    </form>
</div>
<script src="/js/validFormScript.js"></script>